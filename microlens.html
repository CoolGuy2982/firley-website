<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Ensure proper rendering on mobile -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Firley</title>
    <link rel="icon" href="images/favicon.png" type="image/png" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <style>
        /* Global Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Google Sans', sans-serif;
            overflow-x: hidden;
            background-color: black;
        }

        /* Navbar Styles */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 10;
            backdrop-filter: none;
            background: transparent;
            transition: backdrop-filter 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 3rem;
        }

        .navbar.scrolled {
            backdrop-filter: blur(15px);
            background: rgba(0, 0, 0, 0.7);
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.5);
        }

        /* Increased text size and spacing */
        .navbar a, .navbar a.nav-link {
            font-size: 1rem; /* Increased font size */
            font-weight: 400;
            color: #9CA3AF;
            margin: 0 2rem; /* Increased horizontal spacing */
            text-decoration: none;
            position: relative;
            transition: color 0.2s;
        }

        .navbar a:hover, .navbar a.nav-link:hover {
            color: #ffffff;
        }

        .navbar a.active, .navbar a.nav-link.active {
            color: #ffffff;
            border-bottom: 2px solid #9F7AEA; /* Lavender equivalent */
        }

        /* Underline Animation */
        .navbar nav {
            position: relative;
            display: flex;
            align-items: center;
        }

        .navbar nav .underline {
            position: absolute;
            bottom: -2px;
            left: 0;
            height: 2px;
            width: 0;
            background: #9F7AEA; /* Lavender underline */
            transition: all 0.3s ease-in-out;
            border-radius: 1px;
        }

        .navbar a.nav-link.active ~ .underline {
            left: 0;
        }
    
/* Responsive Navbar Styles */
@media (max-width: 768px) {
    /* Navigation Menu */
    #nav-menu {
        position: absolute;
        top: 100%;
        right: 0;
        background-color: rgba(0, 0, 0, 0.9);
        flex-direction: column;
        width: 200px;
        padding: 1rem;
        border-radius: 0 0.5rem 0.5rem 0;
        transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        transform: translateY(-20px);
        opacity: 0;
        visibility: hidden;
    }

    #nav-menu.show {
        transform: translateY(0);
        opacity: 1;
        visibility: visible;
    }

    /* Navigation Links */
    .navbar a.nav-link {
        margin: 1rem 0;
        font-size: 1.2rem;
    }

    /* Underline Adjustment */
    .navbar .underline {
        display: none; /* Hide underline in mobile menu */
    }
}


        /* Hero Section */
        .hero-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 2rem 1rem;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 1s ease, transform 1s ease;
    text-align: center;
    background: radial-gradient(circle at 55% -30%, #2E1A47 10%, #000 50%);
}

        .title {
            font-size: 4rem;
            font-weight: 600;
            line-height: 1.2;
            color: #ffffff;
            margin: 0;
            font-family: 'Google Sans', sans-serif;
        }

        .frosted-text {
            position: relative;
            color: rgba(255, 255, 255, 0.07);
            font-weight: 600;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(8px);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            transition: color 0.3s ease, text-shadow 0.3s ease;
        }

        .frosted-text:hover {
            color: rgba(255, 255, 255, 0.3);
            text-shadow: 0 2px 6px rgba(255, 255, 255, 0.3);
        }

        .subtitle {
            font-size: 1.25rem;
            font-weight: 400;
            max-width: 700px;
            margin: 1.5rem auto 0 auto;
            color: #cfcfcf;
            line-height: 1.6;
            font-family: 'Google Sans', sans-serif;
        }

        .button-container {
            margin-top: 2.5rem;
        }

        .button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.85rem 2.5rem;
            border-radius: 14px;
            font-size: 1rem;
            font-weight: 500;
            text-decoration: none;
        }

        .button-blue {
            background: linear-gradient(to right, #B794F4, #9F7AEA);
            color: white;
            box-shadow: 0 4px 10px rgba(159, 122, 234, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .button-blue:hover {
            transform: scale(1.05);
            background: #9F7AEA;
        }

        /* Responsive Adjustments for Very Small Screens */
        @media (max-width: 480px) {
            .title {
                font-size: 2.5rem;
            }
            .subtitle {
                font-size: 1rem;
            }
        }

        /* Fade-in on scroll */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-element {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .fade-in-element.visible {
            opacity: 1;
            transform: translateY(0);
            animation: fadeInUp 0.6s forwards;
        }

            /* Secondary Headline Section */
    .secondary-section {
        text-align: center;
        padding: 4rem 1.5rem;
        color: #fff;
        margin-top: 15vh;
        background: transparent; /* Added transparent background */
    }

    .secondary-section h2 {
        font-size: 3rem;
        font-weight: 500;
        margin-bottom: 1.5rem;
        color: #fff;
    text-shadow: 0px 0px 2px rgba(0,0,0,0.5);
    }

    @media (max-width: 480px) {
        .secondary-section h2 {
            font-size: 2rem;
        }
    }

    .secondary-section p {
        font-size: 1rem;
        font-weight: 400;
        line-height: 1.75;
        color: #a1a1a1;
        max-width: 800px;
        margin: 0 auto 2rem auto;
    text-shadow: 0px 0px 2px rgba(0,0,0,0.5);

    }

    .secondary-section .alt-button {
        background: #000;
        color: #fff;
        padding: 0.75rem 2rem;
        border-radius: 8px;
        text-decoration: none;
        font-size: 1rem;
        font-weight: 500;
        transition: transform 0.3s ease;
    }

    .secondary-section .alt-button:hover {
        transform: scale(1.05);
    }

    .secondary-section h3,
 .secondary-section h2,
 .secondary-section p {
 text-shadow: 0px 0px 2px rgba(0,0,0,0.5);
}

        /* Three-Column Section */

        .three-col-wrapper {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            max-width: 1200px;
            margin: 0 auto;
        }

        .three-col-card {
            background-color: #161616;
            border-radius: 1rem;
            border: 2px solid #333;
            padding: 2.5rem;
            flex: 1;
            min-width: 250px;
            max-width: 300px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
        }

        .three-col-card:hover {
            border-color: #8A2BE2;
            box-shadow: 0 6px 20px rgba(138, 43, 226, 0.7);
            transform: scale(1.05);
        }

        .three-col-card h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #fff;
        }

        .three-col-card p {
            font-size: 1rem;
            color: #cfcfcf;
            line-height: 1.5;
            margin-bottom: 1rem;
        }

        @media (max-width: 480px) {
            .three-col-card h3 {
                font-size: 1.25rem;
            }
        }

        /* Footer */
        footer {
            background: #000;
            text-align: center;
            padding: 4rem 1.5rem;
            color: #fff;
            margin-top: 15vh;
        }

        footer .flex {
            justify-content: center;
            margin-bottom: 1rem;
        }

        footer p {
            font-size: 0.9rem;
            font-weight: 400;
            color: #a1a1a1;
            line-height: 1.5;
        }

        footer a {
            text-decoration: underline;
            color: #fff;
        }

        footer a:hover {
            color: #cfcfcf;
        }

        /* Cards Container */
    .cards-container {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 2rem;
        margin: 0 auto;
        flex-wrap: wrap;
        max-width: 1200px;
        padding: 0 2rem;
    }

    /* Card Styles */
    .card-container {
        position: relative;
        width: 350px;
        height: 420px;
        background: linear-gradient(135deg, #2E1A47, #1A0A29); /* Dark lavender tones */
        border-radius: 1rem;
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
        perspective: 1200px;
        transform-style: preserve-3d;
        transition: transform 0.6s ease, box-shadow 0.6s ease;
        cursor: pointer;
    }

    .card-container:hover {
        transform: rotateX(0deg) rotateY(0deg) scale(1.05);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.8);
    }

    .card-container img {
        position: absolute;
        top: 20%;
        left: 50%;
        transform: translate(-50%, -50%) translateZ(50px);
        width: 120px;
        height: 120px;
        z-index: 2;
        object-fit: cover;
        border-radius: 50%;
        border: 2px solid #ffffff;
    }

    .card-container div.content {
        position: absolute;
        bottom: 0;
        width: 100%;
        background: rgba(18, 18, 18, 0.9);
        padding: 1rem;
        text-align: left;
        color: #fff;
        transform: translateZ(20px);
        z-index: 1;
    }

    .card-container h3 {
        margin: 0 0 0.5rem 0;
        font-size: 1.25rem;
        font-weight: 600;
    }

    .card-container p {
        margin: 0;
        font-size: 0.9rem;
        color: #a1a1a1;
    }

    .card-container .card-icon {
        position: absolute;
        bottom: 20px;
        right: 20px;
        font-size: 1rem;
        color: #cfcfcf;
        transition: color 0.3s ease;
    }

    .card-container:hover .card-icon {
        color: #F3E8FF; /* Lighter lavender */
    }

    /* Carousel Section */
    #three-card-carousel {
    position: relative;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    background-color: transparent; /* Ensure background matches */
}
    /* Three-Column Section */
    .three-col-section {
        background: transparent;
        padding: 6rem 1.5rem;
        color: #fff;
        text-align: center;
        margin-top: 15vh;
    }

    /* Swiper Styles */
    .swiper-container {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        padding: 0 !important; /* Remove Swiper's internal padding */
    }

    .swiper-slide {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        transition: transform 0.3s ease, opacity 0.3s ease;
        position: relative;
        width: auto; /* Let Swiper handle width based on slidesPerView */
    }

    .card {
        width: 500px;
        height: 500px;
        background-color: #f0f0f0;
        border: 5px solid transparent;
        border-radius: 25px; /* More rounded corners */
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.5s ease;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        backface-visibility: hidden;
        overflow: hidden;
        position: relative;
    }

    .card-image {
        width: 100%;
        height: 100%;
        object-fit: cover; /* Changed from fill to cover */
        display: block;
        border-radius: 25px; /* Match card's rounded corners */
    }

    /* Description Styles */
    .description {
        margin-top: 20px;
        font-size: 1.2rem;
        color: #333;
        opacity: 0; /* Hidden by default */
        transition: opacity 0.3s ease;
        text-align: center;
        width: 500px;
    }

    /* Active (centered) slide */
    .swiper-slide-active .card {
        transform: scale(1) rotate(0deg) translateY(-20px); /* Slightly higher */
        opacity: 1;
        border-color: #9F7AEA; /* Highlight active card border */
        z-index: 3;
    }

    .swiper-slide-active .description {
        opacity: 1; /* Show description when active */
        color: #fff; /* Ensure text is visible on dark background */
    }

    /* Previous slide */
    .swiper-slide-prev .card {
        transform: scale(0.85) rotate(-20deg) translateY(0px);
        opacity: 0.7;
        z-index: 2;
    }

    .swiper-slide-prev .description {
        opacity: 0; /* Hide description when not active */
    }

    /* Next slide */
    .swiper-slide-next .card {
        transform: scale(0.85) rotate(20deg) translateY(0px);
        opacity: 0.7;
        z-index: 2;
    }

    .swiper-slide-next .description {
        opacity: 0; /* Hide description when not active */
    }

    /* Other slides */
    .swiper-slide:not(.swiper-slide-active):not(.swiper-slide-prev):not(.swiper-slide-next) .card {
        transform: scale(0.5) translateY(100px);
        opacity: 0.3;
        z-index: 1;
    }

    /* Hover effect */
    .card:hover {
        border-color: #9B59B6; /* Darker blue on hover */
        cursor: pointer;
    }

    /* Navigation Arrows */
    .swiper-button-next,
    .swiper-button-prev {
        color: #000;
        width: 60px;
        height: 60px;
        background: rgba(255, 255, 255, 0.8);
        border-radius: 50%;
        top: 50%;
        transform: translateY(-50%);
        box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    .swiper-button-next::after,
    .swiper-button-prev::after {
        font-size: 24px;
    }

    /* Inactive Pagination Bullets */
    .swiper-pagination-bullet {
        background: transparent; /* Make the inside of the dots transparent */
        border: 2px solid #ffffff; /* White border for inactive dots */
        width: 14px;
        height: 14px;
        border-radius: 50%; /* Ensure circular shape */
        opacity: 0.7; /* Slightly dimmed */
        transition: background 0.3s ease, opacity 0.3s ease;
    }

    /* Active Pagination Bullet */
    .swiper-pagination-bullet-active {
        background: #9F7AEA; /* Lavender fill for active dot */
        border-color: #b499e9; /* Match border to the lavender color */
        opacity: 1; /* Fully opaque */
    }

    /* Adjust Hover Effect on Pagination Dots */
    .swiper-pagination-bullet:hover {
        opacity: 1; /* Brighten inactive dots on hover */
        background: rgba(159, 122, 234, 0.3); /* Slight lavender hover effect */
    }


    /* Responsive Adjustments */
    @media (max-width: 768px) {
        .card {
            width: 350px;
            height: 350px;
        }

        .description {
            width: 350px;
            font-size: 1rem;
        }

        .swiper-button-next,
        .swiper-button-prev {
            width: 50px;
            height: 50px;
        }

        .swiper-button-next::after,
        .swiper-button-prev::after {
            font-size: 20px;
        }
    }

    @media (max-width: 480px) {
        .card {
            width: 250px;
            height: 250px;
        }

        .description {
            width: 250px;
            font-size: 0.9rem;
        }

        .swiper-button-next,
        .swiper-button-prev {
            width: 40px;
            height: 40px;
        }

        .swiper-button-next::after,
        .swiper-button-prev::after {
            font-size: 16px;
        }
    }

    </style>
</head>

<body>

    <!-- Navbar -->
    <header class="navbar flex justify-between items-center px-6 py-4 md:px-12">
        <!-- Logo and Brand Name -->
        <a href="/home" class="flex items-center space-x-4">
            <img
                src="images/firley_bear.png"
                alt="Firley Logo"
                class="w-10 h-10 rounded-md object-cover"
            />
            <h1 class="text-lg font-medium">Firley</h1>
        </a>

        <!-- Hamburger Menu Button (Visible on Mobile) -->
        <button id="nav-toggle" class="md:hidden text-gray-300 hover:text-white focus:outline-none">
            <i class="fas fa-bars fa-2x"></i>
        </button>

        <!-- Navigation Links -->
        <nav id="nav-menu" class="hidden md:flex relative">
            <a href="home" class="nav-link">Home</a>
            <a href="#" class="nav-link active">Microlens</a>
            <a href="about-firley" class="nav-link">About Us</a>
            <a href="updates" class="nav-link">Updates</a>
            <a href="contact" class="nav-link">Contact Us</a>
            <span class="underline"></span>
        </nav>
    </header>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
          const links = document.querySelectorAll(".navbar a.nav-link");
          const underline = document.querySelector(".navbar .underline");
      
          function setUnderline(target) {
            const linkRect = target.getBoundingClientRect();
            const navRect = target.parentElement.getBoundingClientRect();
            underline.style.width = `${linkRect.width}px`;
            underline.style.left = `${linkRect.left - navRect.left}px`;
          }
      
          links.forEach((link) => {
            link.addEventListener("click", (e) => {
              e.preventDefault();
              // Remove active class from other links
              links.forEach((item) => item.classList.remove("active"));
              // Animate underline
              setUnderline(link);
              // Navigate after animation
              setTimeout(() => {
                link.classList.add("active");
                window.location.href = link.getAttribute("href");
              }, 300);
            });
          });
      
          const activeLink = document.querySelector(".navbar a.nav-link.active");
          if (activeLink) {
            setUnderline(activeLink);
          }
        });
    </script>

    <script>
        // Mobile Menu Toggle
        document.addEventListener("DOMContentLoaded", function () {
            const navToggle = document.getElementById("nav-toggle");
            const navMenu = document.getElementById("nav-menu");

            navToggle.addEventListener("click", function () {
                navMenu.classList.toggle("show");
            });

            const navLinks = navMenu.querySelectorAll(".nav-link");
            navLinks.forEach(link => {
                link.addEventListener("click", () => {
                    navMenu.classList.remove("show");
                });
            });
        });
    </script>

    <!-- Hero Section -->
    <main class="hero-section text-center fade-in-element" id="hero">
      <h1 class="title">
          Discover What’s 
          <span class="frosted-text">Invisible</span> 
          to the Naked Eye
      </h1>
      <p class="subtitle">
          Microscopes aren't just for science nerds. Our AI Microscope companion helps you see the invisible, explore the impossible, and transform how you understand the world
      </p>
      <div class="button-container flex justify-center space-x-6 mt-8">
          <a href="https://microlens.firley.net/order" class="button button-blue mind-blow-hover">
              Get the Microscope World Explorer Kit &rarr;
          </a>
      </div>
    </main>

    <!-- First Section: Images on Left -->
    <section class="mobile-app-demo fade-in-element">
        <div class="container flex justify-center items-center">
            <div class="image-stack-container relative">
                <div class="image-stack">
                    <img src="images/microlens1.png" alt="App Screen 1" class="app-image" draggable="false" />
                    <img src="images/microlens2.png" alt="App Screen 2" class="app-image" draggable="false" />
                    <img src="images/microlens3.png" alt="App Screen 3" class="app-image" draggable="false" />
                    <img src="images/microlens4.png" alt="App Screen 3" class="app-image" draggable="false" />
                </div>
            </div>
            <div class="text-content w-full md:w-2/5 mt-8 md:mt-0">
                <h2 class="text-3xl font-bold text-white mb-4">
                    Experience the Power of MicroLens on Your Phone
                </h2>
                <p class="text-gray-300 mb-6">
                    View cells at a microscopic scale with the power of our AI analysis. Understand the world in a completely new way, all from the palm of your hand!
                </p>
                <a href="microlens-redirect_1" class="button button-blue mind-blow-hover inline-block">
                    Try it for Free on the App →
                </a>
            </div>
        </div>
        
    </section>

    <style>
           /* Mobile App Demo Section */
.mobile-app-demo {
   text-align: center;
   color: #fff;
   padding: 4rem 4rem;
   margin-top: 15vh;
}

.mobile-app-demo .container {
   display: flex;
   flex-direction: column;
   align-items: center;
   justify-content: center;
   max-width: 1200px;
   margin: 0 auto;
}

.mobile-app-demo.reverse .container {
   flex-direction: column;
}

@media (min-width: 768px) {
   .mobile-app-demo .container {
       flex-direction: row;
       align-items: flex-start;
   }
   .mobile-app-demo.reverse .container {
       flex-direction: row-reverse;
       align-items: flex-start;
   }
   .mobile-app-demo .text-content {
       margin-left: 8rem; /* Increased horizontal space on desktop */
   }
   .mobile-app-demo.reverse .text-content {
       margin-left: 0;
       margin-right: 8rem; /* Increased horizontal space on desktop for reversed section */
   }
}

/* Image container */
.image-stack-container {
   display: flex;
   align-items: center;
   justify-content: center;
   position: relative;
   width: 100%;
   max-width: 300px;
   height: 500px;
   
}

.image-stack {
   display: flex;
   flex-direction: column;
   width: 100%;
   height: 100%;
   overflow: visible;
   perspective: 800px;
   position: relative;
   cursor: grab;
}
.app-image {
   width: 100%;
    height: auto;
    position: absolute;
    left: 0;
    top: 0;
    border-radius: 1rem;
    transition: all 0.3s cubic-bezier(0.215, 0.610, 0.355, 1.000);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
    backface-visibility: hidden;
    background-clip: padding-box; /* important, keeps border within bounds */
}

.app-image:before {
  content: '';
  position: absolute;
  top: -4px;
  right: -4px;
  bottom: -4px;
  left: -4px;
  z-index: -1;
  border-radius: inherit;
  background: linear-gradient(to right, #D6BCFA, #9F7AEA, #B794F4, #D6BCFA); /* Updated lavender gradient */
  background-size: 200% 200%; /* Larger gradient */
  animation: gradient-border 5s linear infinite;
  transition: all 0.3s ease;
  filter: blur(1px);
}

.app-image:hover:before {
   filter: blur(0px);
   box-shadow: 0 0 20px rgba(159, 122, 234, 0.8);
}

@keyframes gradient-border {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
   100% {
    background-position: 0% 50%;
  }
}

.app-image:first-child {
   z-index: 3;
   animation: subtle-tug 3s ease-in-out infinite;
   transform: translateY(0) scale(1) rotateY(0deg);
   filter: blur(0px);
}

.app-image:nth-child(2) {
   z-index: 2;
   transform: translateY(20px) scale(0.95) rotateY(5deg);
   filter: blur(2px);
}

.app-image:nth-child(3) {
   z-index: 1;
   transform: translateY(40px) scale(0.9) rotateY(10deg);
   filter: blur(4px);
}

/* Subtler Tug Animation */
@keyframes subtle-tug {
 0%, 100% {
     transform: translateX(0) translateY(0) scale(1) rotateY(0deg);
 }
 50% {
     transform: translateX(-5px) translateY(0) scale(1.005) rotateY(-1deg);
 }
}

.text-content {
   text-align: left;
   padding-top: 2rem;
}

.text-content h2 {
   text-shadow: 0px 0px 2px rgba(0,0,0,0.5);
   font-size: 2rem;
}

.text-content p {
   line-height: 1.7;
}

/* Ensure images are responsive on mobile */
@media (max-width: 767px) {
    .mobile-app-demo {
        margin-top: 5vh;
    }
   .image-stack-container {
       max-width: 100%;
       height: auto;
   }
    .image-stack {
       display: flex;
       flex-direction: row;
       overflow-x: auto;
        height: auto;
       overflow-y: hidden;
    }

   .app-image {
       width: 80vw; /* or max width of container div, and leave height auto */
       max-height: 70vw;
       position: relative;
        margin: 0;
       display: inline-block;
       top: auto;
       left: auto;
       transform: none !important;
       filter: none !important;
       box-shadow: none !important;
       border-radius: 1rem;
      background-clip: padding-box;
   }
     .app-image:before {
      content: '';
    position: absolute;
    top: -4px;
    right: -4px;
    bottom: -4px;
    left: -4px;
    z-index: -1;
    border-radius: inherit;
    background: linear-gradient(to right, #D6BCFA, #9F7AEA, #B794F4, #D6BCFA); /* Updated lavender gradient */
    background-size: 200% 200%; /* Larger gradient */
      animation: gradient-border 5s linear infinite;
      transition: all 0.3s ease;
       filter: blur(1px);
}

.app-image:hover:before {
   filter: blur(0px);
   box-shadow: 0 0 20px rgba(159, 122, 234, 0.8);
}

    
   .app-image:first-child {
        transform: none !important;
    }
    .app-image:nth-child(2) {
         transform: none !important;
    }
    .app-image:nth-child(3) {
        transform: none !important;
    }
    
    .text-content {
       text-align: center;
       margin-top: 8vh;
       padding: 0 1rem;
       margin-left: 0 !important; /* Override desktop margin on mobile */
       margin-right: 0 !important; /* Override desktop margin on mobile for reversed section */
   }
   .text-content a {
       display: inline-block;
       margin: 0 auto;
   }
}
    </style>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const demoSections = document.querySelectorAll('.mobile-app-demo');

            demoSections.forEach(section => {
                let images = Array.from(section.querySelectorAll('.app-image'));
                const imageStack = section.querySelector('.image-stack');
                let isDragging = false;
                let startX = 0;
                let currentImage = null;
                let flingVelocity = 0;
                const FLING_FACTOR = 0.5; // Adjust this value for stronger/weaker fling
                let lastX = 0;
        
                function applyInitialStyles() {
                    images.forEach((img, index) => {
                        img.style.transition = "all 0.3s cubic-bezier(0.215, 0.610, 0.355, 1.000)";
                        if (index === 0) {
                            img.style.transform = `translateY(0) scale(1) rotateY(0deg)`;
                            img.style.filter = `blur(0px)`;
                            img.style.opacity = `1`;
                        } else if (index === 1) {
                            img.style.transform = `translateY(20px) scale(0.95) rotateY(5deg)`;
                            img.style.filter = `blur(2px)`;
                            img.style.opacity = `1`;
                        } else if (index === 2) {
                            img.style.transform = `translateY(40px) scale(0.9) rotateY(10deg)`;
                            img.style.filter = `blur(4px)`;
                            img.style.opacity = `1`;
                        } else {
                            // If more than 3 images are added
                            img.style.transform = `translateY(${20 * index}px) scale(${1 - 0.05 * index}) rotateY(${5 * index}deg)`;
                            img.style.filter = `blur(${2 * index}px)`;
                            img.style.opacity = `1`;
                        }
                    });
                }
                applyInitialStyles();
        
                // Handle both mouse and touch
                imageStack.addEventListener('mousedown', dragStart);
                imageStack.addEventListener('mousemove', dragging);
                imageStack.addEventListener('mouseup', dragEnd);
                imageStack.addEventListener('mouseleave', dragEnd);
        
                imageStack.addEventListener('touchstart', dragStart, {passive: true});
                imageStack.addEventListener('touchmove', dragging, {passive: true});
                imageStack.addEventListener('touchend', dragEnd, {passive: true});
                imageStack.addEventListener('touchcancel', dragEnd, {passive: true});
                
                function getClientX(e) {
                    if (e.type.includes('touch')) {
                        return e.touches[0] ? e.touches[0].clientX : (e.changedTouches[0] ? e.changedTouches[0].clientX : 0);
                    } else {
                        return e.clientX;
                    }
                }
                
                function dragStart(e) {
                    const target = e.target;
                    if (!target.classList.contains('app-image') || target !== images[0]) {
                        return; // Only top image can be dragged
                    }
        
                   isDragging = true;
                   startX = getClientX(e);
                    currentImage = target;
                    currentImage.style.transition = 'none'; // Disable transitions while dragging
                    lastX = startX;
                }

        
               function dragging(e) {
                    if (!isDragging || !currentImage) return;

                    const currentX = getClientX(e);
                    const diff = currentX - startX;
                    let rotateY = (diff > 0) ? 15 : -15;


                    currentImage.style.transform = `translateX(${diff}px) rotateY(${rotateY}deg)`;
                    currentImage.style.opacity = `${1 - Math.min(Math.abs(diff) / 500, 1)}`;


                    flingVelocity = currentX - lastX;
                    lastX = currentX;
                }
            
                function dragEnd(e) {
                if (!isDragging || !currentImage) return;

                isDragging = false;
                const diff = getClientX(e) - startX;
                currentImage.style.transition = '';
        
                if (Math.abs(diff) > 100 || Math.abs(flingVelocity) > 15) {

                    const direction = diff > 0 ? 2000 : -2000;
                    const calculatedFling = flingVelocity * FLING_FACTOR;
                    const flingDistance = Math.abs(calculatedFling) > 1000 ? (calculatedFling > 0 ? 2000 : -2000) : calculatedFling;
                    const adjustedDirection = Math.abs(diff) > 100 ? direction : flingDistance
                    currentImage.style.transform = `translateX(${adjustedDirection}px) rotateY(${adjustedDirection > 0 ? 15 : -15}deg)`;
                    currentImage.style.opacity = '0';
            
                    currentImage.addEventListener('transitionend', function handleTransitionEnd() {
                        currentImage.removeEventListener('transitionend', handleTransitionEnd);
                        cycleImages();
                    });
                } else {
                    // Reset if not swiped enough
                    currentImage.style.transform = `translateX(0px) rotateY(0deg)`;
                    currentImage.style.opacity = '1';
                }
            }
        
                function cycleImages() {
                    const topImage = images.shift();
                    imageStack.appendChild(topImage);
                    images = Array.from(section.querySelectorAll('.app-image'));
                    applyInitialStyles();
                }
            });
        });
    </script>


    <!-- Demo Header -->
    <section class="fade-in-element" style="padding: 4rem 2rem; text-align: center; margin-top: 15vh">
        <h3 style="font-size: 1rem; font-weight: 400; color: #a1a1a1; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 1rem;">
            Demo
        </h3>
        <h2 style="font-size: 3rem; font-weight: 500; margin-bottom: 1.5rem; color: #fff;">
            State of the Art Cell Segmentation Algorithm
        </h2>
        <p style="font-size: 1rem; font-weight: 400; line-height: 1.75; color: #a1a1a1; max-width: 800px; margin: 0 auto;">
            Our cutting-edge algorithm offers unparalleled cell segmentation, delivering real-time precision for identifying cellular structures. Unlock new possibilities in research, education, and discovery with our AI microscope companion. Click on the demos below showcasing advanced insights.
        </p>
    </section>

    <!-- Full-Screen Centered Three-Card Carousel Section -->
    <section class="fade-in-element" id="three-card-carousel">
        <!-- Swiper CSS -->
        <link
            rel="stylesheet"
            href="https://unpkg.com/swiper@9/swiper-bundle.min.css"
        />
    
        <!-- Carousel Container -->
        <div class="swiper-container">
            <div class="swiper-wrapper">
                <!-- Slide 1 -->
                <div class="swiper-slide">
                    <div class="card">
                        <img src="images/segment1.png" alt="bloodSmear" class="card-image">
                    </div>
                    <p class="description">Human Blood Smear</p>
                </div>
                <!-- Slide 2 -->
                <div class="swiper-slide">
                    <div class="card">
                        <img src="images/segment2.png" alt="anotherImage" class="card-image">
                    </div>
                    <p class="description">Plant Cell - Zea Seed</p>
                </div>
                <!-- Slide 3 -->
                <div class="swiper-slide">
                    <div class="card">
                        <img src="images/segment3.png" alt="thirdImage" class="card-image">
                    </div>
                    <p class="description">Small Intestine Cell</p>
                </div>
            </div>
            <!-- Navigation Arrows -->
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
            <!-- Pagination Dots -->
            <div class="swiper-pagination"></div>
        </div>
    
        <!-- Modal for Interaction -->
        <div id="modal" class="modal">
            <!-- Close Button -->
            <div class="close-button" onclick="closeModal()">
                &times;
            </div>
            <div class="modal-content">
                <!-- Modal Body -->
                <div class="modal-body">
                    <!-- Image Section -->
                    <div class="modal-image-container">
                        <img id="modal-image" src="" alt="Segmented Image" class="modal-image">
                    </div>
                    <!-- Cards Section -->
                    <div class="cards-section">
                        <!-- Loading Overlay -->
                        <div class="loading-overlay" id="loadingOverlay">
                            <div class="loading-card">
                                <!-- Shimmer effect -->
                                <div class="shimmer"></div>
                            </div>
                        </div>
                        <!-- Cards Container -->
                        <div class="cards-container" id="cardsContainer">
                            <!-- Cards will be generated dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- Swiper JS -->
        <script src="https://unpkg.com/swiper@9/swiper-bundle.min.js"></script>
    <!-- Update your existing Swiper initialization script -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const swiper = new Swiper('.swiper-container', {
            // Basic Swiper parameters
            initialSlide: 1, // Start from the middle slide
            slidesPerView: 1, // Default to 1 slide per view
            centeredSlides: true,
            spaceBetween: 50, // Default spacing

            loop: false,
            resistance: true,
            grabCursor: true,
            allowTouchMove: true,

            // Keyboard control
            keyboard: {
                enabled: true,
                onlyInViewport: true,
            },

            // Pagination (dots)
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },

            // Navigation arrows
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },

            // Transition speed
            speed: 600,

            // Breakpoints for responsiveness
            breakpoints: {
                640: { // Small devices
                    slidesPerView: 1,
                    spaceBetween: 30,
                },
                768: { // Medium devices
                    slidesPerView: 2,
                    spaceBetween: 50,
                },
                1024: { // Large devices
                    slidesPerView: 3,
                    spaceBetween: 150,
                },
            },

            // Enable smooth resistance when dragging
            resistanceRatio: 0.85,

            // Event listeners to handle description visibility
            on: {
                slideChangeTransitionStart: function () {
                    updateDescriptions();
                },
                slideChangeTransitionEnd: function () {
                    updateDescriptions();
                },
            },
        });

        // Function to update descriptions based on active slide
        function updateDescriptions() {
            const slides = document.querySelectorAll('.swiper-slide');
            slides.forEach((slide) => {
                const description = slide.querySelector('.description');
                if (slide.classList.contains('swiper-slide-active')) {
                    description.style.opacity = '1';
                    description.style.color = '#fff'; // Ensure visibility on dark background
                    // Enable pointer events on active slide
                    slide.style.pointerEvents = 'auto';
                    // Add click event to active slide's image
                    const cardImage = slide.querySelector('.card-image');
                    cardImage.onclick = function () {
                        const imageKey = cardImage.alt.toLowerCase().replace(/\s+/g, '');
                        openModal(imageKey);
                    };
                } else {
                    description.style.opacity = '0';
                    description.style.color = '#333';
                    // Disable pointer events on inactive slides
                    slide.style.pointerEvents = 'none';
                    // Remove click event from inactive slides
                    const cardImage = slide.querySelector('.card-image');
                    cardImage.onclick = null;
                }
            });
        }

        // Initial call to set descriptions correctly
        updateDescriptions();

        // Optional: Adjust Swiper on window resize
        window.addEventListener('resize', () => {
            swiper.update();
        });
    });
</script>

        <!-- Styles -->
        <style>
            /* Swiper Container */
            .swiper-container {
                width: 100%;
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
                position: relative;
            }
    
            .swiper-slide {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                transition: transform 0.3s ease, opacity 0.3s ease;
                position: relative;
                width: auto;
                pointer-events: none; /* Disable pointer events by default */
            }
    
            /* Enable pointer events only on active slide */
            .swiper-slide-active {
                pointer-events: auto;
            }
    
            /* Card Styles */
            .card {
                width: 500px;
                height: 500px;
                background-color: #f0f0f0;
                border: 5px solid transparent;
                border-radius: 25px;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.5s ease;
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
                overflow: hidden;
            }
    
            .card-image {
                width: 110%;
                height: 110%;
                object-fit: cover;
                border-radius: 0px;
                cursor: pointer; /* Indicate clickable */
            }
    
            /* Description Styles */
            .description {
                margin-top: 20px;
                font-size: 1.2rem;
                color: #333;
                opacity: 0;
                transition: opacity 0.3s ease;
                text-align: center;
                width: 500px;
            }
    
            .swiper-slide-active .card {
                transform: scale(1) translateY(-20px);
                opacity: 1;
                border-color: #9B59B6  ;
            }
    
            .swiper-slide-active .description {
                opacity: 1;
                color: #fff;
            }
    
            /* Navigation Arrows */
            .swiper-button-next,
            .swiper-button-prev {
                color: #000;
                width: 60px;
                height: 60px;
                background: rgba(255, 255, 255, 0.8);
                border-radius: 50%;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            }
    
            /* Modal Styles */
            .modal {
                display: none;
                position: fixed;
                z-index: 1000;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                /* Frosted Glass Effect */
                background-color: rgba(255, 255, 255, 0.2);
                backdrop-filter: blur(10px);
                overflow-y: auto; /* Enable scrolling if content exceeds modal height */
            }
    
            .modal-content {
                margin: 5% auto;
                padding: 20px;
                width: 90%;
                max-width: 1200px;
                background-color: rgba(255, 255, 255, 0.1);
                color: #333;
                border-radius: 10px;
                position: relative;
                display: flex;
                flex-direction: column;
                align-items: center;
                backdrop-filter: blur(10px);
            }
    
            /* Close Button */
            .close-button {
                position: fixed;
                top: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                background-color: white;
                color: #333;
                border-radius: 50%;
                font-size: 30px;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                z-index: 1001;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            }
    
            /* Modal Body */
            .modal-body {
                display: flex;
                width: 100%;
                max-width: 1000px;
            }
    
            .modal-image-container {
                flex: 1;
                display: flex;
                justify-content: center;
                align-items: center;
                padding-right: 20px;
            }
    
            .modal-image {
                max-width: 100%;
                max-height: 80vh;
                border: 2px solid #ccc;
                border-radius: 10px;
            }
    
            .cards-section {
                flex: 1;
                display: flex;
                flex-direction: column;
                align-items: center;
                position: relative;
                overflow: hidden;
            }
    
            /* Loading Overlay Styling */
            .loading-overlay {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
                background-color: rgba(255,255,255,0.1);
                z-index: 2;
            }
    
            .loading-card {
                width: 80%;
                height: 200px;
                background-color: #e0e0e0;
                border-radius: 10px;
                overflow: hidden;
                position: relative;
            }
    
            /* Shimmer Effect */
            .shimmer {
                width: 50%;
                height: 100%;
                background: linear-gradient(90deg, rgba(224,224,224,0) 0%, rgba(255,255,255,0.5) 50%, rgba(224,224,224,0) 100%);
                position: absolute;
                top: 0;
                left: -50%;
                animation: shimmer 2s infinite;
            }
    
            @keyframes shimmer {
                0% {
                    left: -50%;
                }
                100% {
                    left: 150%;
                }
            }
    
            /* Cards Container Styling */
            .cards-container {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: flex-start;
                gap: 20px;
                opacity: 0;
                transform: translateY(50px);
                transition: opacity 1s ease, transform 1s ease;
                z-index: 1;
                width: 100%;
                padding-top: 20px;
            }
    
            .cards-container.visible {
                opacity: 1;
                transform: translateY(0);
            }
    
            /* Individual Card Styling */
            .info-card {
                width: 80%;
                max-width: 400px;
                padding: 20px;
                border-radius: 10px;
                color: #ffffff;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
                opacity: 0;
                transform: translateY(20px);
                animation: cardEntrance 0.8s forwards;
                transform-origin: bottom;
                perspective: 1000px;
            }
    
            /* Enhanced animation for Cards */
            @keyframes cardEntrance {
                0% {
                    opacity: 0;
                    transform: translateY(50px) scale(0.95) rotateX(30deg);
                }
                100% {
                    opacity: 1;
                    transform: translateY(0) scale(1) rotateX(0deg);
                }
            }
    
            /* Delay for Each Card Animation */
            .info-card:nth-child(1) {
                animation-delay: 0.5s;
            }
    
            .info-card:nth-child(2) {
                animation-delay: 0.8s;
            }
    
            .info-card:nth-child(3) {
                animation-delay: 1.1s;
            }
    
            /* Responsive Design */
            @media (max-width: 768px) {
                .modal-body {
                    flex-direction: column;
                    align-items: center;
                }
                .modal-image-container {
                    padding-right: 0;
                    margin-bottom: 20px;
                }
                .cards-section {
                    width: 100%;
                }
                .info-card {
                    width: 90%;
                }
                .modal-image {
                    max-height: 50vh;
                }
            }

            /* Responsive Navbar Styles */
            @media (max-width: 768px) {
                /* Navigation Menu */
                #nav-menu {
                    position: absolute;
                    top: 100%;
                    right: 0;
                    background-color: rgba(0, 0, 0, 0.9);
                    flex-direction: column;
                    width: 200px;
                    padding: 1rem;
                    border-radius: 0 0 0.5rem 0.5rem;
                    transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
                    transform: translateY(-20px);
                    opacity: 0;
                    visibility: hidden;
                }

                #nav-menu.show {
                    transform: translateY(0);
                    opacity: 1;
                    visibility: visible;
                }

                /* Navigation Links */
                .navbar a.nav-link {
                    margin: 1rem 0;
                    font-size: 1.2rem;
                }

                /* Underline Adjustment */
                .navbar .underline {
                    display: none; /* Hide underline in mobile menu */
                }
            }

        </style>
    
        <!-- JavaScript -->
        <script>
            // AI Responses for each image
            const aiResponsesMap = {
                bloodSmear: [
                    {
                        title: "Red Blood Cells",
                        content: "The bright red dots are red blood cells. They carry oxygen all around our body!",
                        backgroundColor: "#e74c3c"
                    },
                    {
                        title: "White Blood Cells",
                        content: "The green areas indicate white blood cells. They are the defenders of our body, ready to fight off infections!",
                        backgroundColor: "#27ae60"
                    },
                    {
                        title: "Platelets",
                        content: "The blue outlines highlight platelets. These are like band-aids inside your body, helping to stop bleeding!",
                        backgroundColor: "#2980b9"
                    }
                ],
                anotherImage: [
                {
                        title: "Cell Wall",
                        content: "The light green rectangles you see are cell walls. They're like the sturdy walls of a castle that protect and give shape to the plant cell.",
                        backgroundColor: "#1b6254"
                    },
                    {
                        title: "Cytoplasm",
                        content: "Inside each cell wall is the cytoplasm, which appears as a pale, slightly darker green area. This is like a jelly that fills the space inside the cell and cushions all the cell’s parts.",
                        backgroundColor: "#8bc4be"
                    },
                    {
                        title: "Nucleus",
                        content: "In some of the cells, you might spot the nucleus. It's like the command center of the cell, telling it how to grow and divide. It’s tricky to spot here, though!",
                        backgroundColor: "#daba05"
                    }
                ],
                thirdImage: [
                {
                        title: "Epithelial Tissue",
                        content: "The pink background is the epithelial tissue. This layer helps in absorbing nutrients from the food we eat. Imagine it's like a sponge soaking up all the good stuff!",
                        backgroundColor: "#db5c9f"
                    },
                    {
                        title: "Villi",
                        content: "The green parts look like the villi. These tiny, finger-like projections help absorb nutrients from the food you eat. Imagine them reaching out to grab the vitamins and minerals you need!",
                        backgroundColor: "#44984a"
                    },
                    {
                        title: "Blood Vessels",
                        content: "The red dots are likely blood vessels. These carry the absorbed nutrients throughout the body, fueling all our cells just like a delivery truck.",
                        backgroundColor: "#ce6f73"
                    },
                    {
                        title: "Lumen",
                        content: "The white spaces are the lumen of the intestine, where the food passes through as it gets broken down further.",
                        backgroundColor: "#c1c2c4"
                    },
                ]
            };
    
            // Open Modal
            function openModal(imageKey) {
                const modal = document.getElementById("modal");
                const loadingOverlay = document.getElementById('loadingOverlay');
                const cardsContainer = document.getElementById('cardsContainer');
                const modalImage = document.getElementById("modal-image");
    
                // Set the image source based on imageKey
                const imageSrcMap = {
                    bloodSmear: 'images/segment1.png',
                    anotherImage: 'images/segment2.png',
                    thirdImage: 'images/segment3.png'
                };
    
                modalImage.src = imageSrcMap[imageKey];
    
                // Clear previous cards
                cardsContainer.innerHTML = '';
    
                modal.style.display = "block";
    
                // Simulate AI processing time (e.g., 2 seconds)
                setTimeout(() => {
                    // Hide Loading Overlay
                    loadingOverlay.style.opacity = '0';
                    setTimeout(() => {
                        loadingOverlay.style.display = 'none';
                    }, 500);
    
                    // Generate cards based on AI responses
                    const responses = aiResponsesMap[imageKey];
                    responses.forEach((response, index) => {
                        const card = document.createElement('div');
                        card.classList.add('info-card');
                        card.style.backgroundColor = response.backgroundColor;
                        card.style.animationDelay = `${0.5 + index * 0.3}s`; // Stagger animations
    
                        const title = document.createElement('h3');
                        title.textContent = response.title;
                        title.style.color = '#fff';
    
                        const content = document.createElement('p');
                        content.textContent = response.content;
                        content.style.color = '#fff';
    
                        card.appendChild(title);
                        card.appendChild(content);
    
                        cardsContainer.appendChild(card);
                    });
    
                    // Reveal Cards Container
                    cardsContainer.classList.add('visible');
                }, 2000); // 2000 milliseconds = 2 seconds
            }
    
            // Close Modal
            function closeModal() {
                const modal = document.getElementById("modal");
                const loadingOverlay = document.getElementById('loadingOverlay');
                const cardsContainer = document.getElementById('cardsContainer');
    
                modal.style.display = "none";
    
                // Reset Loading Overlay and Cards Container
                loadingOverlay.style.display = 'flex';
                loadingOverlay.style.opacity = '1';
                cardsContainer.classList.remove('visible');
                cardsContainer.innerHTML = '';
            }
    
            // Close modal when clicking outside the modal content
            window.addEventListener('click', function(event) {
                const modal = document.getElementById("modal");
                const modalContent = document.querySelector(".modal-content");
                if (event.target == modal) {
                    closeModal();
                }
            });
    
            // Carousel Initialization Script
            document.addEventListener('DOMContentLoaded', function () {
                const swiper = new Swiper('.swiper-container', {
                    // Basic Swiper parameters
                    initialSlide: 1, // Start from the middle slide
                    slidesPerView: 3,
                    centeredSlides: true,
                    spaceBetween: 150, // Increased spacing for better arch effect
                    loop: false,
                    resistance: true,
                    grabCursor: true,
                    allowTouchMove: true,
    
                    // Keyboard control
                    keyboard: {
                        enabled: true,
                        onlyInViewport: true,
                    },
    
                    // Pagination (dots)
                    pagination: {
                        el: '.swiper-pagination',
                        clickable: true,
                    },
    
                    // Navigation arrows
                    navigation: {
                        nextEl: '.swiper-button-next',
                        prevEl: '.swiper-button-prev',
                    },
    
                    // Transition speed
                    speed: 600,
    
                    // Breakpoints for responsiveness
                    breakpoints: {
                        0: {
                            slidesPerView: 1,
                            spaceBetween: 50,
                        },
                        768: {
                            slidesPerView: 3,
                            spaceBetween: 150,
                        },
                    },
    
                    // Enable smooth resistance when dragging
                    resistanceRatio: 0.85,
    
                    // Event listeners to handle description visibility
                    on: {
                        slideChangeTransitionStart: function () {
                            updateDescriptions();
                        },
                        slideChangeTransitionEnd: function () {
                            updateDescriptions();
                        },
                    },
                });
    
                // Function to update descriptions based on active slide
                function updateDescriptions() {
                    const slides = document.querySelectorAll('.swiper-slide');
                    slides.forEach((slide) => {
                        const description = slide.querySelector('.description');
                        if (slide.classList.contains('swiper-slide-active')) {
                            description.style.opacity = '1';
                            description.style.color = '#fff'; // Ensure visibility on dark background
                            // Enable pointer events on active slide
                            slide.style.pointerEvents = 'auto';
                            // Add click event to active slide's image
                            const cardImage = slide.querySelector('.card-image');
                            cardImage.onclick = function() {
                                const imageKey = cardImage.alt;
                                openModal(imageKey);
                            };
                        } else {
                            description.style.opacity = '0';
                            description.style.color = '#333';
                            // Disable pointer events on inactive slides
                            slide.style.pointerEvents = 'none';
                            // Remove click event from inactive slides
                            const cardImage = slide.querySelector('.card-image');
                            cardImage.onclick = null;
                        }
                    });
                }
    
                // Initial call to set descriptions correctly
                updateDescriptions();
    
                // Optional: Adjust Swiper on window resize
                window.addEventListener('resize', () => {
                    swiper.update();
                });
            });
    
        </script>
    </section>   

    <!-- Small smaller-->
<section class="fade-in-element" style="padding: 4rem 2rem; text-align: center; margin-top: 15vh;">
    <h2 style="font-size: 2rem; font-weight: 500; margin-bottom: 1rem; color: #fff;">One Platform, Endless Possibilities</h2>
    <p style="font-size: 1rem; font-weight: 400; color: #a1a1a1; margin-bottom: 4rem;">
        MicroLens now comes in two distinct versions, tailored to meet the needs of curious learners and industry professionals alike.
    </p>
    <div style="display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap; max-width: 1200px; margin: 0 auto;">
        <!-- Card 1 -->
        <a href="https://microlens.firley.net" target="_blank" style="text-decoration: none;">
            <div class="card-container" style="
                position: relative;
                width: 350px;
                height: 420px;
                background: linear-gradient(135deg, #2E1A47, #1A0A29); /* Dark lavender tones */
                border-radius: 1rem;
                overflow: hidden;
                border: 1px solid rgba(255, 255, 255, 0.1);
                box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
                perspective: 1200px;
                transform-style: preserve-3d;
                transition: transform 0.6s ease, box-shadow 0.6s ease;
                cursor: pointer;
            "
            onmousemove="applyParallaxEffect(event, this)"
            onmouseleave="resetParallaxEffect(this)">
                <img src="Home/free.png" 
                    alt="1.5 Flash" 
                    style="position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%) translateZ(50px); width: 120px; height: 120px; z-index: 2; border-radius: 0; border: none;">
                <div style="
                    position: absolute;
                    bottom: 0;
                    width: 100%;
                    background: #121212;
                    padding: 1rem;
                    text-align: left;
                    color: #fff;
                    transform: translateZ(20px);
                    z-index: 1;
                ">
                    <h3 style="margin: 0 0 0.5rem; font-size: 1.25rem; font-weight: 600;">Microlens Free</h3>
                    <p style="margin: 0; font-size: 0.9rem; color: #a1a1a1;">
                        For students, teachers, and curious minds. Explore the microscopic world with ease—perfect for classrooms and personal discovery.
                    </p>
                </div>
            </div>
        </a>

        <!-- Card 2 -->
        <a href="contact" target="_blank" style="text-decoration: none;">
            <div class="card-container" style="
                position: relative;
                width: 350px;
                height: 420px;
                background: linear-gradient(135deg, #1A0A29, #2E1A47); /* Reversed dark lavender tones */
                border-radius: 1rem;
                overflow: hidden;
                border: 1px solid rgba(255, 255, 255, 0.1);
                box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
                perspective: 1200px;
                transform-style: preserve-3d;
                transition: transform 0.6s ease, box-shadow 0.6s ease;
                cursor: pointer;
            "
            onmousemove="applyParallaxEffect(event, this)"
            onmouseleave="resetParallaxEffect(this)">
                <img src="Home/paid.png" 
                    alt="Microlens Pro" 
                    style="position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%); width: 120px; height: 120px; z-index: 2; border-radius: 0; border: none;">
                <div style="
                    position: absolute;
                    bottom: 0;
                    width: 100%;
                    background: #121212;
                    padding: 1rem;
                    text-align: left;
                    color: #fff;
                    transform: translateZ(20px);
                    z-index: 1;
                ">
                    <h3 style="margin: 0 0 0.5rem; font-size: 1.25rem; font-weight: 600;">Microlens Pro</h3>
                    <p style="margin: 0; font-size: 0.9rem; color: #a1a1a1;">
                        For professionals and innovators. Advanced AI tools and custom solutions for scientists, developers, and industry leaders.
                    </p>
                </div>
            </div>
        </a>
    </div>
</section>

    <!-- Secondary Section -->
    <section class="secondary-section fade-in-element" id="secondary">
        <h2>Microscopes aren't just for science nerds</h2>
        <p>
            With MicroLens, anyone can explore the microscopic world effortlessly. Students, hobbyists, researchers, and professionals - all can gain unprecedented insights. See cells, fibers, and structures like never before, all powered by our advanced AI tools.
        </p>
        <a href="microlens-redirect_1" class="alt-button">Use our AI system for free</a>
    </section>

    <!-- Three Column Section -->
    <section class="three-col-section fade-in-element">
        <h3 style="font-size:1rem; font-weight:400; color:#a1a1a1; letter-spacing:2px; text-transform:uppercase; margin-bottom:1rem;">
            Explore Options
        </h3>
        <h2 style="font-size:3rem; font-weight:500; margin-bottom:3rem; color:#fff;">
            Tailored for Everyone
        </h2>
        <div class="three-col-wrapper">
            <div class="three-col-card">
                <h3>For You</h3>
                <p>Dive into a world of microscopic wonders at home.</p>
            </div>
            <div class="three-col-card">
                <h3>For Teachers</h3>
                <p>Empower your classroom with AI-driven scientific exploration.</p>
            </div>
            <div class="three-col-card">
                <h3>For Builders</h3>
                <p>Integrate MicroLens into your products, pushing innovation further.</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="fade-in-element">
        <!-- Social Icon -->
        <div class="flex justify-center mb-4">
            <a href="https://www.youtube.com/@Firley1" target="_blank" rel="noopener noreferrer">
              <img
                src="https://ssl.gstatic.com/atari/images/sociallinks/youtube_white_44dp.png"
                alt="YouTube Logo"
                class="w-10 h-10"
              />
            </a>
        </div>          

        <p class="text-sm font-medium mb-2">
          &copy; 2024 <span class="font-bold">FIRLEY</span>
        </p>

        <p class="text-xs text-gray-400">
          Your usage of Firley software indicates your agreement of the
          <a href="terms-of-service">terms of service</a>
          and
          <a href="privacy-policy">privacy policy</a>.
        </p>
    </footer>

    <!-- Intersection Observer for Fade-in Animations -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const faders = document.querySelectorAll('.fade-in-element');
            const appearOptions = {
                threshold: 0.1,
                rootMargin: "0px 0px -50px 0px"
            };

            const appearOnScroll = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (!entry.isIntersecting) return;
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                });
            }, appearOptions);

            faders.forEach(fader => {
                appearOnScroll.observe(fader);
            });
        });

        const navbar = document.querySelector('.navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 100) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });
    </script>
</body>
</html>
